# ChatRoomDemo

## 功能划分

### 服务端实现功能

#### 服务器主进程 MyServer
- 服务端进程启动
- 读取文件记录用户名以及密码
- 支持多个客户端
- 读取命令提示符
  - list：列出全部在线用户
  - listAll：列出全部用户
  - quit：退出系统
- 在固定端口监听，等待用户连接，判断用户账号&密码合法性，若不合法则提醒用户重新输入
- 确认合法性后创建新的 MyServerHandler 线程

#### 服务器的用户对应线程 MyServerHandler
- 接受并转发某个客户端发送的信息
- 支持匿名聊天
- 日志，用文本文件（txt）记录每个用户的行为
  - 登录成功信息
  - 登录失败信息
  - 退出聊天室时间

### 客户端实现功能
客户端进程由3个类组成，分别是 MyClient, Send 与 Receive
#### 客户端主进程 MyClient
- 客户端进程启动
- 连接到服务器端
- 提醒用户输入账号密码，将账号密码传到服务端进行验证
- 处理格式为"@@+Order"的系统命令
     1. list，列出当前在线用户
     2. quit，退出系统
     3. showAnonymous，显示当前聊天方式是否匿名
     4. anonymous，切换聊天方式

#### 客户端发消息线程 Send
- 用户可以发送两类消息
  1. 普通字符串，群聊信息
  2. 格式为"@+UsrName+:"的私聊信息

#### 客户端接受消息线程 Receive
- 聊天室显示群聊&私聊信息


## 备忘
两个client，后面出现的client输入账号密码的时间早于第一个的情况——从 socket 建立开始就运行多线程

监听的同时接受命令

Client 端不能直接调用 MysServer 的 get 在线用户列表方法，因为两者是不同的进程，需要通过通信实现
